---
title: 指针和双指针
date: 2022-11-09 00:24:11
tags: 
- tech
- cpp
- pointer
---
# 对指针和双重指针甚至多重的一些愚见

<font size=4 color=green>**写在前面：**</font>指针是一个概念而不是一种具体的东西，计算机就是套娃，多重指针和双重指针的思想一样，就是不停的一层套一层。

## 指针

指针也可以称为单指针、一级指针，这里我举个例子帮助理解。

<font size=4 color=red>**小红：**</font>小蓝，你知道**小黑**在哪里吗？

<font size=4 color=blue>**小蓝：**</font>**小黑**他现在在教室的第一组第一排最左边的位置上。

这里的（小黑他现在在教室的第一组第一排最左边的位置上）指出小黑现在的位置，此时小黑并不在小红和小蓝的身边，只知道小黑在教室的座位上，而**小蓝说的小黑的位置**就可以**理解为指向小黑目前所在位置的指针**。

用C++来描述就是：

```C++
int main(){
	int black = 10;
    int* blue = &black;// *写在变量名前面表示该变量是指针变量，表示一个地址
	return 0;
}
```

![image-20221109001444348](./img/image-20221109001444348.png)

---

## 双重指针

双重指针可以理解是指针的指针，指向一个指针变量的指针，也就是指向一个地址的地址。这里我接着上面的例子来帮助你理解。

> <font size=4 color=red>**小红：**</font>小蓝，你知道<font size=4 color=black>**小黑**</font>在哪里吗？
>
> <font size=4 color=blue>**小蓝：**</font>我不知道小黑在哪，但是小绿应该知道小黑在哪，<font size=4 color=green>**小绿**</font>他现在在教室的第一组第一排最左边的位置上。
>
> 这时，小红去教室找到小绿...
>
> <font size=4 color=red>**小红：**</font>小绿，你知道小黑在哪里吗？
>
> <font size=4 color=green>**小绿：**</font><font size=4 color=black>**小黑**</font>他在篮球场的第二号场地。

这里小红找到小黑的过程就是：先找到小蓝知道了小绿的位置，通过去小绿的位置上问小绿得知小黑的位置。即**双指针本质还是指针，只不过这个指针指向的是一个指针变量。**

```
int main(){
	int **black;
	return 0;
}
```

![image-20221109002117082](./img/image-20221109002117082.png)

---

## 如果现在的你有计算机组成原理的相关基础

如果你现在有计组的基础知识，则指针的概念不难想到指令的寻址方式。

即<font size=3 color=black>**不用指针（即在变量名之前不加 \* 号）就相当于直接寻址，指针就相当于一次间接寻址（当前指令的操作数字段表示的是操作数的地址），双重指针就相当于两次间接寻址（指令中的操作数字段保存的是操作数的地址的地址）**</font>，可能会不太好理解，下面我画个图帮助理解。

**普通变量：**

![image-20221108235928176](./img/image-20221108235928176.png)

**指针变量：**

![image-20221108234901357](./img/image-20221108234901357.png)

**双重指针变量：**

![image-20221109000517170](./img/image-20221109000517170.png)